(this.webpackJsonpbidwin=this.webpackJsonpbidwin||[]).push([[0],{124:function(e,t,a){e.exports=a(142)},129:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/noInternet.0209214b.png"},135:function(e,t,a){e.exports=a.p+"static/media/winner.0c5381be.jpg"},142:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),i=(a(129),a(12)),s=a(11),c=a(14),u=a(15),m=a(16),d=a(213),p=a(200),h=a(187),g=a(208),f=a(202),v=a(201),b=a(204),y=a(102),E=a.n(y),w=a(42),C=a(199),k=a(18),O=a(3),S=a(107),x=a(21),D=a(205),I=a(98),B=a(13),j=a(211),T=a(206),W=(a(188),a(186)),_=(a(210),a(185),a(183),a(184),a(182),a(198)),A=a(197),P=a(100),M=a.n(P),F=a(101),L=a.n(F),N=a(143),q=a(189),V=a(190),U=a(191),H=a(192),Y=a(193),Q=a(108),R=a(209),z=a(71),J=a.n(z),G=(a(144),Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},button:{margin:e.spacing(1),color:"white"},container:{display:"flex",flexWrap:"wrap"},menuButton:{marginRight:e.spacing(2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),fontSize:12,"& label.Mui-focused":{color:"#2AAA9E"},"& .MuiInput-underline:after":{borderBottomColor:"#2AAA9E"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"1px solid rgba(224, 224, 224, 1)"},"& fieldset legend":{width:200,borderColor:"#2AAA9E"},"&:hover fieldset":{borderColor:"#00A0DB"},"&.Mui-focused fieldset":{borderColor:"#2AAA9E"}}},dense:{marginTop:e.spacing(1),marginLeft:e.spacing(0)},menu:{width:200},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},info:{backgroundColor:e.palette.primary.main},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(B.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},title:{flexGrow:1}}})));function K(e){var t=G();return r.a.createElement(W.a,{disabled:!!e.disabled&&e.disabled,fullWidth:e.fullWidth,variant:e.variant?e.variant:"contained",color:e.color?e.color:"primary",name:e.name,className:t.button,onClick:e.onClick,startIcon:e.icon},e.children)}function $(e){return r.a.createElement(q.a,{raised:!0},r.a.createElement(V.a,{title:r.a.createElement(w.a,{variant:"h6",color:"primary",component:"p"},e.title),subheader:r.a.createElement(w.a,{variant:"subtitle1",color:"secondary",component:"p"},e.price)}),r.a.createElement(U.a,{style:{height:0,paddingTop:"56.25%"},image:e.image,title:e.imageTitle}),r.a.createElement(H.a,{style:{}},r.a.createElement(w.a,{variant:"body2",color:"textPrimary",component:"p"},e.content)),r.a.createElement(Y.a,{style:{display:e.actionEnabled?"block":"none"}},r.a.createElement(W.a,{name:e.name,size:"small",onClick:e.onChange},r.a.createElement(w.a,{variant:"button",color:"textSecondary",component:"p"},"Tap to bid"))))}function X(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 biD&Win ",(new Date).getFullYear())}function Z(e){var t=G();return"select"===e.type?r.a.createElement(T.a,{key:e.name,id:e.name,select:!0,label:e.label,disabled:e.disabled,fullWidth:!!e.fullWidth&&e.fullWidth,margin:"dense",onChange:e.onChange,className:Object(O.a)(t.textField,t.dense),value:e.value,name:e.name,SelectProps:{MenuProps:{className:t.menu}},helperText:e.helperText,variant:"outlined"},e.data.map((function(e){return r.a.createElement(j.a,{key:e.value,value:e.value},e.label)}))):"text"===e.type||"number"===e.type||"email"===e.type||"password"===e.type?r.a.createElement(T.a,{id:e.id,disabled:!!e.disabled&&e.disabled,required:!!e.required&&e.required,error:!!e.error&&e.error,multiline:!!e.multiline&&e.multiline,type:e.type,autoFocus:!!e.autoFocus&&e.autoFocus,name:e.name,fullWidth:!!e.fullWidth&&e.fullWidth,label:""+e.label,className:Object(O.a)(t.textField,t.dense),margin:"dense",onBlur:e.onBlur,rows:e.rows?e.rows:1,onChange:e.onChange,value:e.value,variant:e.variant?e.variant:"outlined",helperText:e.helperText}):"date"===e.type?r.a.createElement(x.a,{utils:S.a},r.a.createElement(D.a,{disableToolbar:!0,variant:"inline",inputVariant:"outlined",autoOk:!0,disabled:!!e.disabled&&e.disabled,helperText:e.helperText,fullWidth:!!e.fullWidth&&e.fullWidth,format:"dd/MM/yyyy",margin:"dense",className:Object(O.a)(t.textField,t.dense),id:e.id?e.id:e.name,allowKeyboardControl:!0,label:e.label,value:e.value,onChange:e.onChange,onFocus:e.onFocus})):void 0}function ee(e){var t=r.a.useState(null),a=Object(k.a)(t,2),n=a[0],o=a[1],l=Boolean(n),i=function(t){o(null),console.log(t),e.handleClose(t)},s=e.menuitems.map((function(e,t){return r.a.createElement(j.a,{key:t,onClick:function(t){return i(e.name)}},e.value)}));return r.a.createElement("div",{style:{marginRight:0}},r.a.createElement(N.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit"},r.a.createElement(M.a,null)),r.a.createElement(Q.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:i},s))}function te(e){var t=G(),a=r.a.createElement(N.a,{onClick:function(t){e.handleIconClick()},edge:"start",color:"inherit","aria-label":"back"},r.a.createElement(L.a,null));return r.a.createElement("div",null,r.a.createElement(_.a,{position:"static"},r.a.createElement(A.a,null,e.icon?a:"",r.a.createElement(w.a,{variant:"h6",className:t.title},e.name),e.menu)))}function ae(e){var t=G();return r.a.createElement(R.a,{anchorOrigin:{vertical:e.vPos?e.vPos:"bottom",horizontal:e.hPos?e.hPos:"left"},open:e.open,autoHideDuration:e.autoHideDuration?e.autoHideDuration:6e5,onClose:e.onClose,className:t.info,ContentProps:{"aria-describedby":"message-id"},message:e.message,action:[r.a.createElement(N.a,{key:"close","aria-label":"close",color:"inherit",className:t.close,onClick:e.onClose},r.a.createElement(J.a,null))]})}var ne="/bidlist",re=function(e){function t(e){var a;if(Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).snackClose=function(){return function(e){a.setState({snackMsg:"",snackOpen:!1})}},a.handleChange=function(){return function(e){if("rememberMe"===e.currentTarget.name)a.state.rememberMe?a.setState({rememberMe:!1}):a.setState({rememberMe:!0});else if("email"===e.currentTarget.name)a.setState({email:e.currentTarget.value});else if("password"===e.currentTarget.name)a.setState({password:e.currentTarget.value});else if("submit"===e.currentTarget.name){var t=a.state,n=t.email,r=t.password,o=a.props.gv.auth;a.helper.showOverlay(),a.helper.doSignInWithEmailAndPassword(n,r,o).then((function(e){a.props.gv.userId=e.user.uid,localStorage.setItem("uid",e.user.uid),a.state.rememberMe&&localStorage.setItem("remember_me","remember_me"+n),localStorage.setItem("token","token_"+n)})).then((function(){a.helper.hideOverlay(),a.props.history.push(ne)})).catch((function(e){a.helper.hideOverlay(),a.setState({snackMsg:"Password incorrect",snackOpen:!0},(function(){})),a.setState({error:e})})),e.preventDefault()}}},a.state={onChange:a.handleChange(),snackClose:a.snackClose(),email:"",passowrd:"",error:"",snackOpen:!1,snackMsg:"",rememberMe:!0},a.helper=a.props.helper,null!=localStorage.getItem("token")&&null!=localStorage.getItem("remember_me"))a.props.history.push(ne);else try{window.Android.contentLoaded()}catch(n){}return a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.onChange,a=e.email,n=e.snackOpen,o=e.snackClose,l=e.snackMsg,i=e.rememberMe;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{style:{marginTop:"6em",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(d.a,{style:{margin:1,backgroundColor:"#000"}},r.a.createElement(E.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{style:{width:"100%",marginTop:1}},r.a.createElement(Z,{required:!0,type:"email",value:a,name:"email",fullWidth:!0,label:"E-mail Address",margin:"dense",onChange:t,helperText:"E-mail"}),r.a.createElement(Z,{required:!0,type:"password",name:"password",fullWidth:!0,label:"Password",margin:"dense",onChange:t,helperText:"Password"}),r.a.createElement(h.a,{control:r.a.createElement(g.a,{checked:!0,name:"rememberMe",value:i,onChange:t,color:"primary"}),label:"Remember me"}),r.a.createElement(K,{style:{margin:"3px 0px 2px"},value:"Submit",color:"primary",onClick:t,fullWidth:!0,name:"submit"},"Login"),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(f.a,{href:"/forgot-password",variant:"body2"},"Forgot password?")),r.a.createElement(v.a,{item:!0},r.a.createElement(f.a,{href:"/newuser",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(ae,{autoHideDuration:4e3,open:n,vPos:"bottom",hPos:"left",message:l,onClose:o}),r.a.createElement(b.a,{mt:8},r.a.createElement(X,null)))}}]),t}(n.Component),oe=a(36),le=a(194),ie=a(195),se=a(207),ce=a(203),ue=a(103),me=a.n(ue),de=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.helper.showOverlay(),a.getDataFromDB()},a.getDataFromDB=function(){a.current<a.total?a.props.gv[""+a.state.apis[a.current].name]||a.state.apis[a.current].url.on("value",(function(e){var t=e.val();if(null===t)a.current++,a.getDataFromDB();else{var n=Object.keys(t).map((function(e){return Object(oe.a)({},t[e],{id:e})})),r=a.state.apis;r[a.current].data=n,a.setState({apis:r},(function(){a.current++,a.getDataFromDB()}))}})):a.setState({users:a.state.apis[a.helper.getIndex(a.state.apis,"users")]},(function(){a.current=0,a.helper.hideOverlay()}))},a.snackClose=function(){return function(e){a.setState({snackMsg:"",snackOpen:!1},(function(){}))}},a.handleChange=function(){return function(e){var t=a.props.gv.auth,n=a.props.gv.db;if("register"===e.currentTarget.name){var r=a.state,o=r.gender,l=r.fname,i=r.lname,s=r.email,c=r.password,u=r.cpassword,m=r.cno,d=r.secretQuestion,p=r.secretAnswer;c===u?a.findIfUserExists(s)?a.setState({snackMsg:"User already exist!",snackOpen:!0}):(a.helper.showOverlay(),a.helper.doCreateUserWithEmailAndPassword(s,c,t).then((function(e){return a.props.gv.userId=e.user.uid,localStorage.setItem("uid",e.user.uid),a.helper.users(n).child(a.props.gv.userId).set({email:s,password:c,cno:m,fname:l,lname:i,gender:o,secretQuestion:d,secretAnswer:p,bids:[]})})).then((function(){a.helper.hideOverlay(),a.setState({snackMsg:"Congratulations! Your're registered with us, please sign-in",snackOpen:!0}),setTimeout((function(){a.helper.doLogout(a.props)}),3e3)})).catch((function(e){console.log(e.code),"auth/email-already-in-use"===e.code&&(setTimeout((function(){a.helper.hideOverlay(),a.props.history.push("/login")}),3e3),a.setState({snackMsg:"You're already registered with us! Please login",snackOpen:!0})),a.setState({error:e})}))):a.setState({snackMsg:"Password and confirm password doesn't match",snackOpen:!0}),e.preventDefault()}else"gender"===e.target.name?a.setState({gender:e.target.value}):"fname"===e.target.name?a.setState({fname:e.target.value}):"lname"===e.target.name?a.setState({lname:e.target.value}):"email"===e.target.name?a.setState({email:e.target.value}):"password"===e.target.name?a.setState({password:e.target.value}):"cpassword"===e.target.name?a.setState({cpassword:e.target.value}):"cno"===e.target.name?a.setState({cno:e.target.value}):"secretQuestion"===e.target.name?a.setState({secretQuestion:e.target.value}):"secretAnswer"===e.target.name&&a.setState({secretAnswer:e.target.value})}},a.findIfUserExists=function(e){for(var t=0;t<a.state.users.length;t++){if(a.state.users[t].email===e)return console.log("found"),!0}return!1},a.helper=a.props.helper;var n=a.props.gv.db;return a.state={onChange:a.handleChange(),snackClose:a.snackClose(),gender:"female",fname:"",lname:"",email:"",password:"",cpassword:"",cno:"",secretQuestion:"",secretAnswer:"",users:[],snackMsg:"",snackOpen:!1,apis:[{name:"users",data:[],url:a.helper.users(n)}]},a.current=0,a.total=a.state.apis.length,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.onChange,a=e.gender,n=e.fname,o=e.lname,l=e.email,i=e.password,s=e.cpassword,c=e.cno,u=e.secretQuestion,m=e.secretAnswer,g=e.snackMsg,y=e.snackOpen,E=e.snackClose;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{style:{marginTop:"1em",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(d.a,{style:{margin:1,backgroundColor:"#000"}},r.a.createElement(me.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign Up"),r.a.createElement("form",{style:{width:"100%",marginTop:1},noValidate:!0},r.a.createElement(Z,{required:!0,type:"text",name:"fname",value:n,fullWidth:!0,label:"First Name",margin:"dense",onChange:t,helperText:"First name"}),r.a.createElement(Z,{required:!0,type:"text",name:"lname",value:o,fullWidth:!0,label:"Last Name",margin:"dense",onChange:t,helperText:"Last name"}),r.a.createElement(le.a,{component:"fieldset"},r.a.createElement(ie.a,{component:"legend"},"Gender"),r.a.createElement(ce.a,{"aria-label":"gender",name:"gender",value:a,onChange:t},r.a.createElement(h.a,{value:"female",control:r.a.createElement(se.a,null),label:"Female"}),r.a.createElement(h.a,{value:"male",control:r.a.createElement(se.a,null),label:"Male"}),r.a.createElement(h.a,{value:"other",control:r.a.createElement(se.a,null),label:"Other"}))),r.a.createElement(Z,{required:!1,type:"number",name:"cno",value:c,fullWidth:!0,label:"Contact Number",margin:"dense",onChange:t,helperText:"Contact Number"}),r.a.createElement(Z,{required:!0,type:"email",value:l,name:"email",fullWidth:!0,label:"E-mail",margin:"dense",onChange:t,helperText:"E-mail"}),r.a.createElement(Z,{required:!0,type:"password",name:"password",value:i,fullWidth:!0,label:"Password",margin:"dense",onChange:t,helperText:"Password"}),r.a.createElement(Z,{required:!0,type:"password",name:"cpassword",value:s,fullWidth:!0,label:"Confirm Password",margin:"dense",onChange:t,helperText:"Confirm Password"}),r.a.createElement(Z,{name:"secretQuestion",type:"select",data:[{value:"1",label:"What is your mother's year of birth?"},{value:"2",label:"What is your family nick name?"},{value:"3",label:"Where you met your life patner first time?"}],label:"Secret Question",value:u,onChange:t,fullWidth:!0,helperText:"Select a Secret Question"}),r.a.createElement(Z,{required:!0,type:"text",name:"secretAnswer",value:m,fullWidth:!0,label:"Your answer",margin:"dense",onChange:t,helperText:"Answer is case insensitive"}),r.a.createElement(K,{name:"register",style:{margin:"3px 0px 2px"},value:"Submit",color:"primary",onClick:t,fullWidth:!0},"Register"),r.a.createElement(ae,{autoHideDuration:5e3,open:y,vPos:"bottom",hPos:"left",message:g,onClose:E}),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(f.a,{href:"/",variant:"body2"},"Home")),r.a.createElement(v.a,{item:!0},r.a.createElement(f.a,{href:"/login",variant:"body2"},"Login"))))),r.a.createElement(b.a,{mt:4},r.a.createElement(X,null)))}}]),t}(n.Component),pe=a(104),he=a.n(pe),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){},a.getQuestionsByValue=function(e){for(var t=0;t<a.state.questionsData.length;t++){var n=a.state.questionsData[t];if(n.value===e)return n.label}},a.snackClose=function(){return function(e){a.setState({snackMsg:"",snackOpen:!1})}},a.handleChange=function(){return function(e){var t=a.props.gv.db,n=a.props.gv.auth;if("submit"!==e.currentTarget.name||a.state.userFound)if("submit"===e.currentTarget.name&&a.state.userFound&&a.state.detailsVerified)if(a.helper.showOverlay(),a.state.newPassword===a.state.confirmPassword){var r=a.state.user.email,o=a.state.user.password;a.helper.doSignInWithEmailAndPassword(r,o,n).then((function(e){var r=a.helper.user(a.state.user.id,t);a.helper.getCurrentUser(n).updatePassword(a.state.newPassword).then((function(){r.update({password:a.state.newPassword}).then((function(){a.setState({snackMsg:"Password changed",snackOpen:!0}),setTimeout((function(){a.helper.hideOverlay(),a.helper.doLogout(a.props)}),2e3)}))})).catch((function(e){}))}))}else a.setState({snackMsg:"Password and confirm password doesn't match",snackOpen:!0});else"submit"===e.currentTarget.name&&a.state.userFound?a.state.uanswer===a.state.answer?a.setState({snackMsg:"Answer matched, please change password.",snackOpen:!0,detailsVerified:!0}):a.setState({snackMsg:"Answer doesn't match with our records.",snackOpen:!0}):"email"===e.currentTarget.name?a.setState({email:e.currentTarget.value}):"newPassword"===e.currentTarget.name?a.setState({newPassword:e.currentTarget.value}):"confirmPassword"===e.currentTarget.name?a.setState({confirmPassword:e.currentTarget.value}):"uanswer"===e.currentTarget.name&&a.setState({uanswer:e.currentTarget.value});else a.helper.showOverlay(),a.helper.users(t).orderByChild("email").equalTo(a.state.email).once("value").then((function(e){a.helper.hideOverlay();var t=e.val();if(t=(t=Object.keys(t).map((function(e){return Object(oe.a)({},t[e],{id:e})})))[0],a.setState({user:t}),t){var n=a.getQuestionsByValue(t.secretQuestion);a.setState({question:n,answer:t.secretAnswer},(function(){a.setState({userFound:!0})}))}else a.setState({snackMsg:"User doesn't exist!",snackOpen:!0},(function(){}))}))}},a.helper=a.props.helper,a.state={onChange:a.handleChange(),snackClose:a.snackClose(),email:"",user:null,snackMsg:"User doesn't exist!",snackOpen:!1,userFound:!1,newPassword:"",confirmPassword:"",detailsVerified:!1,questionsData:[{value:"1",label:"What is your mother's year of birth?"},{value:"2",label:"What is your family nick name?"},{value:"3",label:"Where you met your life patner first time?"}],question:"",answer:"",uanswer:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.onChange,a=e.email,n=e.snackMsg,o=e.userFound,l=e.snackOpen,i=e.snackClose,s=e.newPassword,c=e.confirmPassword,u=e.question,m=e.detailsVerified,h=e.uanswer;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{className:"base",style:{margin:"1em",alignItems:"center",display:"flex",flexDirection:"column"}},r.a.createElement(d.a,{style:{backgroundColor:"#000",margin:"1em"}},r.a.createElement(he.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Forgot Password")),r.a.createElement("form",{style:{width:"100%",marginTop:1},noValidate:!0},r.a.createElement("div",{className:"getEmail",style:{display:!0===o?"none":"block"}},r.a.createElement(Z,{required:!0,type:"email",name:"email",fullWidth:!0,label:"E-mail",margin:"dense",value:a,onChange:t,helperText:"E-mail"})),r.a.createElement("div",{className:"getVerification",style:{display:!0===o&&!1===m?"block":"none"}},r.a.createElement(w.a,{component:"h1",variant:"subtitle1"},u),r.a.createElement(Z,{required:!0,type:"text",name:"uanswer",fullWidth:!0,label:"Your answer here",margin:"dense",value:h,onChange:t})),r.a.createElement("div",{className:"setPassword",style:{display:!1===m?"none":"block"}},r.a.createElement(Z,{required:!0,type:"password",name:"newPassword",fullWidth:!0,label:"New password",margin:"dense",value:s,onChange:t}),r.a.createElement(Z,{required:!0,type:"password",name:"confirmPassword",fullWidth:!0,label:"Confirm password",margin:"dense",value:c,onChange:t})),r.a.createElement(K,{name:"submit",style:{margin:"3px 0px 2px"},value:"Submit",color:"primary",onClick:t,fullWidth:!0},"Submit")),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(f.a,{href:"/",variant:"body2"},"Home")),r.a.createElement(v.a,{item:!0},r.a.createElement(f.a,{href:"/login",variant:"body2"},"Login"))),r.a.createElement(ae,{autoHideDuration:4e3,open:l,vPos:"bottom",hPos:"left",message:n,onClose:i}),r.a.createElement(b.a,{mt:4},r.a.createElement(X,null)))}}]),t}(n.Component),fe=a(214),ve=a(34),be=Object(ve.a)({basename:"".concat("")}),ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){try{window.Android.checkInternet()}catch(e){}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"NoInternet"},r.a.createElement("div",{className:"connectionContainer"},r.a.createElement("img",{className:"connectionImg",src:a(134),alt:"no Internet"}),r.a.createElement("p",null,"Check your connection and try again."),r.a.createElement(K,{style:{margin:"3px 0px 2px"},value:"Submit",color:"primary",onClick:this.onChange,fullWidth:!0,name:"submit"},"Retry")))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getIndex=function(e,t){for(var a=0;a<e.length;a++){if(e[a].name===t)return a}},a.showOverlay=function(){document.getElementsByTagName("body")[0].classList.add("fixbody");var e=document.createElement("div");e.id="overlay",e.classList.add("overlay");var t=document.createElement("div");t.classList.add("lds-ripple");var a=document.createElement("div"),n=document.createElement("div");t.appendChild(a),t.appendChild(n),e.appendChild(t),document.body.appendChild(e),document.getElementById("overlay").style.display="block"},a.hideOverlay=function(){document.getElementsByTagName("body")[0].classList.remove("fixbody");var e=document.getElementById("overlay");e&&document.body.removeChild(e)},a.getCurrentUser=function(e){return e.currentUser},a.doCreateUserWithEmailAndPassword=function(e,t,a){return a.createUserWithEmailAndPassword(e,t)},a.doSignInWithEmailAndPassword=function(e,t,a){return a.signInWithEmailAndPassword(e,t)},a.doSignOut=function(e){return e.auth.signOut()},a.doPasswordReset=function(e,t){return t.auth.sendPasswordResetEmail(e)},a.doPasswordUpdate=function(e,t){return t.auth.currentUser.updatePassword(e)},a.auctions=function(e){return e.ref("auctions")},a.users=function(e){return e.ref("users")},a.user=function(e,t){return t.ref("users/".concat(e))},a.products=function(e){return e.ref("products")},a.bids=function(e){return e.ref("bids")},a.bid=function(e,t){return t.ref("bids/".concat(e))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"doLogout",value:function(e){e.gv.auth.signOut().then((function(t){null!=localStorage.getItem("token")&&localStorage.removeItem("token"),null!=localStorage.getItem("uid")&&localStorage.removeItem("uid"),null!=localStorage.getItem("productInfo")&&localStorage.removeItem("productInfo"),null!=localStorage.getItem("remember_me")&&localStorage.removeItem("remember_me"),e.history.push("/")}))}}]),t}(n.Component),we=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){null!==localStorage.getItem("token")&&(a.current=0,a.total=a.state.apis.length,a.helper.showOverlay(),a.getDataFromDB())},a.getDataFromDB=function(){if(a.current<a.total)if(a.props.gv[""+a.state.apis[a.current].name]){var e=a.state.apis;e[a.current].data=a.props.gv[""+a.state.apis[a.current].name],a.setState({apis:e},(function(){a.current++,a.getDataFromDB()}))}else a.state.apis[a.current].url.on("value",(function(e){if(null===e.val()){var t=a.state.apis;t[a.current].data=[],a.setState({apis:t},(function(){a.current++,a.getDataFromDB()}))}else{var n=e.val(),r=Object.keys(n).map((function(e){return Object(oe.a)({},n[e],{id:e})})),o=a.state.apis;o[a.current].data=r,a.setState({apis:o},(function(){a.current++,a.getDataFromDB()}))}}));else{var t=a.props.gv.db;a.current=0;var n=a.helper.getIndex(a.state.apis,"auctions");a.auctionsList=a.state.apis[n].data;for(var r=a.getActiveAuctionsList("daily"),o=a.getActiveAuctionsList("weekly"),l=0;l<r.length;l++){var i=r[l],s=new Date(i.start_date),c=new Date;s.getFullYear()===c.getFullYear()&&s.getMonth()+1===c.getMonth()+1&&s.getDate()!==c.getDate()&&(i.is_active=0,a.helper.auctions(t).child(i.id).update({is_active:0}).then((function(){a.current=0,a.auctionsList=[],a.getDataFromDB()})))}if(0===r.length){var u=Date.now(),m=new Date(u),d=new Date(u);d.setDate(d.getDate()+1);var p=d.getTime(),h=m.getDate()+"/"+(m.getMonth()+1)+"/"+m.getFullYear();a.helper.auctions(t).push({auction_name:h,start_date:u,end_date:p,is_active:1,product_key:1,type:"daily"}).then((function(){a.current=0,a.auctionsList=[],a.getDataFromDB()}))}if(o.length>0)for(var g=0;g<o.length;g++){var f=o[g],v=new Date(f.end_date),b=new Date;v.getFullYear()===b.getFullYear()&&v.getMonth()+1===b.getMonth()+1&&v.getDate()-b.getDate()===0&&(f.is_active=0,a.helper.auctions(t).child(f.id).update({is_active:0}).then((function(){a.current=0,a.auctionsList=[],a.getDataFromDB()})))}else{var y=new Date;if(5===y.getDay()){var E=new Date(y);E.setDate(E.getDate()+7);var w=E.getTime(),C=y.getTime(),k=y.getDate()+"/"+(y.getMonth()+1)+"/"+y.getFullYear()+" weekly";a.props.firebase.auctions().push({auction_name:k,start_date:C,end_date:w,is_active:1,product_key:2,type:"weekly"}).then((function(){a.current=0,a.auctionsList=[],a.getDataFromDB()}))}}a.afterUpdate()}},a.afterUpdate=function(){for(var e=a.helper.getIndex(a.state.apis,"products"),t=a.state.apis[e].data,n=[],r=0;r<a.auctionsList.length;r++)for(var o=a.auctionsList[r],l=0;l<t.length;l++){var i=JSON.parse(JSON.stringify(t[l]));o.product_key===parseInt(i.id)&&(i.auction_id=o.id,n.push(i))}a.setState({productList:n},(function(){a.helper.hideOverlay();try{window.Android.contentLoaded()}catch(e){}}))},a.handleAppBarClose=function(){return function(e){"logout"===e?a.helper.doLogout(a.props):"winner"===e&&a.props.history.push("/winner")}},a.handleChange=function(){return function(e,t){"bid_1"===e.currentTarget.name&&(a.props.gv.productInfo=a.state.productList[t],localStorage.setItem("productInfo",JSON.stringify(a.state.productList[t])),a.props.history.push("/bidpage"))}},a.auctionsList=[],a.helper=a.props.helper;var n=a.props.gv.db;return null===localStorage.getItem("token")?a.props.history.push("/login"):a.state={onChange:a.handleChange(),onAppBarClose:a.handleAppBarClose(),apis:[{name:"products",data:[],url:a.helper.products(n)},{name:"auctions",data:[],url:a.helper.auctions(n).orderByChild("is_active").equalTo(1)}],productList:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getActiveAuctionsList",value:function(e){for(var t=[],a=0;a<this.auctionsList.length;a++){var n=this.auctionsList[a];1===n.is_active&&n.type===e&&t.push(n)}return t}},{key:"render",value:function(){if(null===localStorage.getItem("token"))return this.props.history.push("/login"),r.a.createElement("div",null);var e=this.state,t=e.onChange,a=e.onAppBarClose,n=e.productList.map((function(e,a){return r.a.createElement("div",{style:{marginBottom:20},key:e.auction_id},r.a.createElement($,{name:"bid_1",actionEnabled:!0,title:e.name,image:e.photo_url,imageTitle:e.name,content:e.description,price:e.price,onChange:function(e){return t(e,a)}}))}));return r.a.createElement("div",null,r.a.createElement(te,{name:"Products",handleClose:a,menu:r.a.createElement(ee,{menuitems:[{name:"winner",value:"Winner"},{name:"logout",value:"Logout"}],handleClose:a})}),r.a.createElement(C.a,{component:"main",maxWidth:"xs",style:{marginTop:20}},n,r.a.createElement(b.a,{mt:4},r.a.createElement(X,null))))}}]),t}(n.Component),Ce=a(75),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleAppBarClose=function(){return function(e){"logout"===e?a.helper.doLogout(a.props):"winner"===e?a.props.history.push("/winner"):"bidlist"===e&&a.props.history.push(ne)}},a.handleIconClick=function(){return function(e){a.props.history.push(ne)}},a.snackClose=function(){return function(e){a.setState({snackMsg:"",snackOpen:!1},(function(){}))}},a.canUserBid=function(){for(var e=0;e<a.userBids.length;e++){var t=a.userBids[e];if(t&&t.auction_key+""===a.state.pl.auction_id){var n=new Date(parseInt(t.biddt)).getDate(),r=(new Date).getDate();if(n===r)return!1;if(n<r)return t.biddt=Date.now(),!0}}return a.userBids.push({auction_key:a.state.pl.auction_id,biddt:Date.now()}),!0},a.handleChange=function(){return function(e){var t=a.props.gv.db;a.helper.showOverlay(),"submit"===e.currentTarget.name&&(a.state.bidValue>0&&a.state.bidValue<=100?a.helper.user(a.props.gv.userId,t).once("value").then((function(e){var n=e.val();a.userBids=[],null!==n&&void 0!==n.bids&&(a.userBids=n.bids),a.canUserBid()?a.helper.bids(t).push({bid_price:a.state.bidValue,user_key:a.state.uid,product_key:a.state.pl.id,auction_key:a.state.pl.auction_id,biddt:Date.now()}).then((function(e){a.helper.user(a.props.gv.userId,t).update({bids:a.userBids}).then((function(e){setTimeout((function(){a.helper.hideOverlay();try{window.Android.showToast("Thanks for biding!")}catch(e){console.log(e)}a.props.history.push(ne)}),2e3),a.setState({snackMsg:"Thanks for biding!",snackOpen:!0},(function(){}))}))})):(setTimeout((function(){a.helper.hideOverlay();try{window.Android.showToast("You've already bided for this auction")}catch(e){console.log(e)}a.props.history.push(ne)}),2e3),a.setState({snackMsg:"You've already bided for this auction",snackOpen:!0},(function(){})))})):(a.setState({snackMsg:"Bid value can be greater than 0",snackOpen:!0},(function(){})),a.helper.hideOverlay()))}},null===localStorage.getItem("token")?a.props.history.push("/login"):(a.helper=a.props.helper,null!==localStorage.getItem("uid")&&(a.props.gv.userId=localStorage.getItem("uid")),null!==localStorage.getItem("productInfo")&&(a.props.gv.productInfo=JSON.parse(localStorage.getItem("productInfo"))),a.state={bidValue:0,onChange:a.handleChange(),snackClose:a.snackClose(),onAppBarClose:a.handleAppBarClose(),handleIconClick:a.handleIconClick(),uid:a.props.gv.userId,pl:a.props.gv.productInfo,snackMsg:"",snackOpen:!1},a.userBids=[],null===localStorage.getItem("token")&&a.props.history.push("/login")),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(null===localStorage.getItem("token"))return this.props.history.push("/login"),r.a.createElement("div",null);var t=this.state,a=t.onChange,n=t.bidValue,o=t.pl,l=t.snackOpen,i=t.snackClose,s=t.snackMsg,c=t.onAppBarClose,u=t.handleIconClick,m=function(t){e.setState({bidValue:parseFloat(t.target.value)})};return r.a.createElement("div",null,r.a.createElement(te,{name:"Bid",icon:!0,handleClose:c,handleIconClick:u,menu:r.a.createElement(ee,{menuitems:[{name:"winner",value:"Winner"},{name:"bidlist",value:"Products"},{name:"logout",value:"Logout"}],handleClose:c})}),r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,{container:!0,spacing:2,alignItems:"center",style:{marginTop:10}},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement($,{name:"bid_1",actionEnabled:!1,title:o.name,image:o.photo_url,imageTitle:o.name,content:o.description,price:o.price}))),r.a.createElement(Ce.a,{style:{marginTop:20,padding:20},elevation:6},r.a.createElement(v.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement("input",{type:"range",min:0,max:100,value:"number"===typeof n?n:0,step:.01,className:"slider",id:"cno",name:"cno",onChange:m}))),r.a.createElement(v.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(Z,{required:!0,type:"number",name:"cno",fullWidth:!0,label:"Bid Value",value:n,inputProps:{step:.1,min:1,max:100,"aria-labelledby":"input-slider"},margin:"dense",onChange:m,onBlur:function(t){n<0?e.setState({value:0}):n>100?e.setState({value:100}):e.setState({bidValue:t.target.value})},helperText:"Number in range from 1 to 100, 2 point decimal allowed"}))),r.a.createElement(v.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(K,{name:"submit",style:{margin:"3px 0px 2px"},value:"Submit",color:"primary",onClick:a,fullWidth:!0},"Register Bid")))),r.a.createElement(ae,{autoHideDuration:1900,open:l,vPos:"bottom",hPos:"left",message:s,onClose:i}),r.a.createElement(b.a,{mt:4},r.a.createElement(X,null))))}}]),t}(n.Component),Oe=a(22),Se=function(e){function t(e){var a;if(Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleAppBarClose=function(){return function(e){"logout"===e?a.helper.doLogout(a.props):"products"===e&&a.props.history.push(ne)}},a.componentDidMount=function(){null===localStorage.getItem("token")?a.props.history.push("/login"):(a.helper.showOverlay(),a.getDataFromDB())},a.getDataFromDB=function(){if(a.current<a.total)if(a.props.gv[""+a.state.apis[a.current].name]){var e=a.state.apis;e[a.current].data=a.props.gv[""+a.state.apis[a.current].name],a.setState({apis:e},(function(){a.current++,a.getDataFromDB()}))}else a.state.apis[a.current].url.on("value",(function(e){var t=e.val();if(null===t)a.current++,a.getDataFromDB();else{var n=Object.keys(t).map((function(e){return Object(oe.a)({},t[e],{id:e})})),r=a.state.apis;r[a.current].data=n,a.setState({apis:r},(function(){a.current++,a.getDataFromDB()}))}}));else a.helper.hideOverlay()},a.findWinnerByTime=function(e){for(var t,n=new Date(Date.now()),r=0;r<e.length;r++){var o=e[r],l=new Date(o.biddt);l<n&&(n=l,t=o)}a.declareWinner(t)},a.findWinner=function(e){var t=e,n=a.getBidValuesFromBids(t),r=Math.min.apply(Math,Object(Oe.a)(n)),o=a.getBidsByValue(r);if(o.length>1){var l=a.removeInvalidBids(r);a.findWinner(l)}else 0===o.length?(t=JSON.parse(JSON.stringify(a.objCopy)),n=a.getBidValuesFromBids(t),r=Math.min.apply(Math,Object(Oe.a)(n)),o=a.getBidsByValue(r),a.findWinnerByTime(o)):a.declareWinner(o)},a.getBidValuesFromBids=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push(parseFloat(n.bid_price))}return t},a.declareWinner=function(e){var t=a.props.gv.db;null===e||void 0===e?a.setState({winner_name:"No Winner Declared",bid_amount:0},(function(){a.helper.hideOverlay()})):a.helper.user(e[0].user_key,t).once("value").then((function(t){var n=t.val();a.setState({winner_name:n.fname+" "+n.lname,bid_amount:e[0].bid_price},(function(){a.helper.hideOverlay()}))}))},a.removeInvalidBids=function(e){for(var t=a.state.bidlist,n=0;n<a.state.bidlist.length;n++){a.state.bidlist[n].bid_price===e&&(t.splice(n,1),n--)}return t},a.getBidsByValue=function(e){for(var t=[],n=0;n<a.objCopy.length;n++){var r=a.objCopy[n];parseFloat(r.bid_price)===e&&t.push(r)}return t},a.handleChange=function(){return function(e,t){var n=a.props.gv.db;"auctionList"===e.target.name&&(a.helper.showOverlay(),a.setState({auction_id:e.target.value},(function(){a.helper.bids(n).orderByChild("auction_key").equalTo(a.state.auction_id).once("value").then((function(e){var t=e.val();if(null===t)a.declareWinner(null);else{var n=Object.keys(t).map((function(e){return Object(oe.a)({},t[e],{id:e})}));a.setState({bidlist:n},(function(){a.setState({bidlist:n}),a.objCopy=JSON.parse(JSON.stringify(n)),a.findWinner(a.objCopy)}))}}))})))}},null===localStorage.getItem("token"))a.props.history.push("/login");else{var n=a.props.gv.db;a.helper=a.props.helper,a.state={onChange:a.handleChange(),onAppBarClose:a.handleAppBarClose(),apis:[{name:"auctions",data:[],url:a.helper.auctions(n).orderByChild("is_active").equalTo(0)}],auction_id:"",bidlist:[],winner_name:null,bid_amount:null},a.objCopy=[],a.current=0,a.total=a.state.apis.length}return a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="",t=!0;if(null===localStorage.getItem("token"))return this.props.history.push("/login"),r.a.createElement("div",null);for(var n=this.state,o=n.auction_id,l=n.onChange,i=n.winner_name,s=n.bid_amount,c=n.onAppBarClose,u=[],m=this.state.apis[this.helper.getIndex(this.state.apis,"auctions")].data,d=0;d<m.length;d++){var p=m[d];u.push({value:p.id,label:p.auction_name})}return 0===u.length&&(t=!1,e="No closed auctions"),r.a.createElement("div",null,r.a.createElement(te,{name:"Winner",handleClose:c,menu:r.a.createElement(ee,{menuitems:[{name:"products",value:"Products"},{name:"logout",value:"Logout"}],handleClose:c})}),r.a.createElement(C.a,{component:"main",maxWidth:"xs",style:{marginTop:20}},r.a.createElement("div",{className:"auctionList",style:{display:t?"block":"none"}},r.a.createElement(Z,{name:"auctionList",type:"select",fullWidth:!0,data:u,label:"Auction List",value:o,onChange:l})),r.a.createElement("div",{className:"auctionList",style:{display:t?"none":"block"}},r.a.createElement(Ce.a,{elevation:1},r.a.createElement("h4",{align:"center"},e))),r.a.createElement("div",{className:"winnerName",style:{display:i?"block":"none",margin:"20px auto"}},r.a.createElement(Ce.a,{elevation:4},r.a.createElement("img",{src:a(135),alt:"Winner",className:"winner_img"}),r.a.createElement("div",{className:"winnerName"},r.a.createElement("p",{className:"name"},i),r.a.createElement("span",{className:"bidamount"},"Bid Amount: ",s)))),r.a.createElement(b.a,{mt:4},r.a.createElement(X,null))))}}]),t}(n.Component),xe=a(105),De=(a(136),a(138),{apiKey:"AIzaSyBxWAv-UhRRx2_1etDDSo4b_ot9U046pvM",authDomain:"madbids-e13ee.firebaseapp.com",databaseURL:"https://madbids-e13ee.firebaseio.com",projectId:"madbids-e13ee",storageBucket:"madbids-e13ee.appspot.com",messagingSenderId:"23154373829",appId:"1:23154373829:web:91de7aaedafb3b2c"}),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateState=function(){a.setState(a.state)},a.fb=xe.initializeApp(De),a.Helper=new Ee(e,a.state),a.state={gv:{uid:"1",us:a.updateState,fb:a.fb,auth:a.fb.auth(),db:a.fb.database(),ht:be,hl:a.Helper}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.gv;return r.a.createElement(fe.b,{basename:"/db",history:be},r.a.createElement(fe.c,null,r.a.createElement(fe.a,{path:"/login",component:function(a){return r.a.createElement(re,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"/newuser",component:function(a){return r.a.createElement(de,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"/forgot-password",component:function(a){return r.a.createElement(ge,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:ne,component:function(a){return r.a.createElement(we,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"/bidpage",component:function(a){return r.a.createElement(ke,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"/winner",component:function(a){return r.a.createElement(Se,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"/nointernet",component:function(a){return r.a.createElement(ye,Object.assign({},a,{gv:t,helper:e.Helper}))}}),r.a.createElement(fe.a,{path:"*",component:function(a){return r.a.createElement(re,Object.assign({},a,{gv:t,helper:e.Helper}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ie,{ref:function(e){window.App=e}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[124,1,2]]]);
//# sourceMappingURL=main.8ca2bd5f.chunk.js.map